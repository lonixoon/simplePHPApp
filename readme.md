# SimplePHPApp

## Структура приложения
* Используется Composer
* Cтандарт атозагрузки PSR-4
https://svyatoslav.biz/misc/psr_translation/#_PSR-4
* Паттерн Model-View-Controller
* Примитивный шаблонизатор
* Все запросы идут на index.php. Используется файл .htacces
для Apache



## Описание файлов и папок
 * index.php - кходная точка приложенияю Только она доступна из барузера
 * app - папка с приложением. Недоступна из браузера
    * config.php - содержит настройки программы  в виде констант
    * routes.php - содержит все маршруты обрабатываемые программой:
        * массив-константа: путь -> соотвествующий класс и метод
    * Router.php - класс отвечающий за маршрутизацию
    * Template.php - класс для работы с шаблоном
    * Controllers - папка с классами контроллеров
        * MainController.php - контроллер для работы с основной страницой 
        * TestController.php - контроллер для работы с Тестовой страницей
    * Models - папка с классами моделей    
        * Model.php - Базовый класс для всех моделей. Содержит инициализацию БД
        * TestModel.php - Тестовая модель, содержит пример SQL запроса 
    * Views - папка с шаблонами
        * main.tpl.php - пишем в названии tpl чтобы указать что это файл шаблона. Шаблоны работают через класс шаблонизатора.
    ## Пример работы программы
    Переход по ссылке /test
    
    1. Web-сервер отправляет запрос на index.php
    2. В index.php подключаем композер, конфиги и маршруты.
     Получаем путь '/test'
    3. Создаем обьект Router. Передаем ему нашу таблицу маршрутов (ROUTES) и текущий путь ('/test) и запускаем метод run.
    4. В методе run проверяем есть в нашей таблице маршрутов указанный путь. Если нет то отправляем на путь '/'.
      если есть вызываем метод runController.
    5. В методе  runController запускаем метод из контроллера прописанный в таблице маршрутов.
     В нашем случае это метод index из TestController
    6 
          
          
          